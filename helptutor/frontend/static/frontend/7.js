(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{106:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n);function c(e){var t=e.component;return r.a.createElement(r.a.Fragment,null,t)}function l(e){var t=e.component;return r.a.createElement(r.a.Fragment,null,t)}function s(e){var t=e.navLateral,a=e.body;return r.a.createElement("div",{className:"container-fluid d-flex main-layout"},null!=t?r.a.createElement("div",{className:"nav-lateral"},r.a.createElement(c,{component:t})):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"body"},r.a.createElement(l,{component:a})))}},113:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a.n(n);function c(e){var t=e.form;return r.a.createElement("div",{className:"container-sm"},t)}},367:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return $}));var n=a(0),r=a.n(n);function c(){return r.a.createElement("div",{className:"navbar navbar-light bg-light"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("a",{href:"",className:"navbar-brand"},"Navbar Estudiante")))}function l(){return r.a.createElement("div",null,r.a.createElement(c,null),"Dashboard")}var s=a(106),i=a(104),u=a.n(i),o=a(22),m=a(372),d=a(7),f=a(36);function p(){var e=Object(n.useState)(0),t=u()(e,2),a=t[0],c=t[1],l=Object(o.d)((function(e){return e.auth})),s=Object(d.h)().pathname;return Object(n.useEffect)((function(){switch(s){case"/estudiante/perfil":c(0);break;case"/estudiante/perfil/informacion":c(1)}}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"profile"},r.a.createElement(m.a,{alt:"user photo",src:null!=l.user?l.user.photo:""},r.a.createElement("b",null,null!=l.user?l.user.first_name[0]:"")),r.a.createElement("span",{className:"profile-name"},null!=l.user?l.user.first_name+" "+l.user.last_name:"")),r.a.createElement("ul",{className:"list-group mt-1"},[{id:0,icon:"fas fa-user",path:"/estudiante/perfil",label:"Ver perfil"},{id:1,icon:"fas fa-user-edit",path:"/estudiante/perfil/informacion",label:"Editar información"},{id:2,icon:"fas fa-briefcase",path:"/estudiante/perfil/interes",label:"Intereses"},{id:2,icon:"fas fa-briefcase",path:"/estudiante/perfil/oferta",label:"Ofertas"},{id:2,icon:"fas fa-briefcase",path:"/estudiante/perfil/postulacion",label:"Postulaciones"},{id:2,icon:"fas fa-briefcase",path:"/estudiante/perfil/acuerdo",label:"Acuerdos"},{id:2,icon:"fas fa-calendar-alt",path:"/estudiante/perfil/sesion",label:"Sesiones"}].map((function(e){return r.a.createElement("div",{key:e.path,className:"item-list item-menu"+(e.id==a?" active":"")},r.a.createElement("i",{className:e.icon}),r.a.createElement(f.b,{to:e.path},e.label))}))))}function b(){return r.a.createElement(s.a,{navLateral:r.a.createElement(p,null)})}var E=a(113),v=a(124),h=a(125),O=a(37),g=a(15),j=a(12),N=a(14),w=a.n(N),y=a(29),_=a(30),k=function(e){return w.a.get("api/student/"+e,Object(y.a)(_.a.getState))},S=a(154),C=a.n(S),x=a(155),P=a.n(x),D=a(369),A=function(){var e=C()(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k(t).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){return Object(D.a)(["student",e],(function(){return A(e)}))};function L(){var e=h.b().shape({user:h.b().shape({first_name:h.c().required("Requerido"),last_name:h.c().required("Requerido")})}),t=Object(o.c)(),a=Object(o.d)((function(e){return e.auth.user})),c=R(a.id),l=c.data,s=c.isLoading,i=l||{user:a},u=Object(v.b)({initialValues:i,validationSchema:e,onSubmit:function(e,t){t.setSubmitting;m(e)}});Object(n.useEffect)((function(){l&&u.setValues(l)}),[l]);var m=function(e){t({type:j.b}),function(e,t){return w.a.patch("api/student/"+e+"/",t,Object(y.a)(_.a.getState))}(a.id,e).then((function(e){u.setValues(e.data),t(O.e),t({type:j.a}),t(Object(g.a)("Información actualizada")),t(Object(g.a)(""))}))};return s?r.a.createElement("span",null,"Load"):r.a.createElement("form",{onSubmit:u.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mb-2"},r.a.createElement("input",{className:"w-100",type:"text",name:"user.first_name",value:u.values.user.first_name,onChange:u.handleChange,placeholder:"Nombres"}),Object(v.a)(u.touched,"user.first_name")&&Object(v.a)(u.errors,"user.first_name")?r.a.createElement("span",{className:"error"},Object(v.a)(u.errors,"user.first_name")):null),r.a.createElement("div",{className:"col-md-6 mb-2"},r.a.createElement("input",{className:"w-100",type:"text",name:"user.last_name",value:u.values.user.last_name,onChange:u.handleChange,placeholder:"Apellidos"}),Object(v.a)(u.touched,"user.last_name")&&Object(v.a)(u.errors,"user.last_name")?r.a.createElement("span",{className:"error"},Object(v.a)(u.errors,"user.last_name")):null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mb-2"},r.a.createElement("input",{className:"w-100",type:"email",name:"user.email",value:u.values.user.email,onChange:u.handleChange,disabled:!0,placeholder:"Correo electronico"})),r.a.createElement("div",{className:"col-md-6 mb-2"},r.a.createElement("input",{className:"w-100",type:"text",name:"user.telephone",value:u.values.user.telephone,onChange:u.handleChange,placeholder:"Telefono"}))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("input",{className:"w-100",type:"date",name:"user.birthday",value:u.values.user.birthday,onChange:u.handleChange,placeholder:"Fecha de nacimiento"}))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-12"},r.a.createElement("textarea",{className:"w-100",name:"user.interest",value:u.values.user.interest,onChange:u.handleChange,cols:"30",rows:"5",placeholder:"Intereses"}))),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"GUARDAR")))}function F(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"title-component"},"INFORMACIÓN"),r.a.createElement(E.a,{form:r.a.createElement(L,null)}));return r.a.createElement(s.a,{navLateral:r.a.createElement(p,null),body:e})}function I(){return r.a.createElement("div",null,"Knowledge area")}var q=a(23),V=a.n(q);function G(e){return r.a.createElement("div",{className:"item-list"},r.a.createElement("span",{className:"text-truncate",onClick:e.onSelect},e.data.title),r.a.createElement("div",{className:"options",onClick:e.onDelete},"x"))}function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){var t=e.setData,a=e.list,n=e.setList,c=Object(o.c)(),l=function(e){c({type:j.b}),function(e){return w.a.delete("api/offer/"+e,Object(y.a)(_.a.getState))}(e).then((function(t){n(a.filter((function(t){return t.id!=e}))),c({type:j.a}),c(Object(g.a)("Oferta eliminada"))}))};return r.a.createElement("div",{className:""},r.a.createElement("div",{className:"header-list"},r.a.createElement("span",{className:"title-component"},"Mis ofertas"),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t(null)}},"AGREGAR")),r.a.createElement("ul",{className:"list-group mt-1"},a.map((function(e){return r.a.createElement(G,{key:e.id,data:e,onDelete:function(){l(e.id),t(null)},onSelect:function(){t(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){V()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e))}})}))))}var U=a(39),z=a.n(U),J=a(368),K=a(366);function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){V()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function H(e){var t=e.data,a=e.list,c=e.setList,l=h.b().shape({knowledge_area_student:h.b().nullable().required("Requerido"),title:h.c().required("Requerido")}),s=Object(o.c)(),i=Object(o.d)((function(e){return e.auth.user})),m=Object(n.useState)([]),d=u()(m,2),f=d[0],p=d[1],b=Object(v.b)({initialValues:{knowledge_area_student:null,title:"",description:""},validationSchema:l,onSubmit:function(e,a){a.setSubmitting;null==t?E(e):O(e)}});Object(n.useEffect)((function(){var e;(e=i.id,w.a.get("api/student/"+e+"/knowledgearea",Object(y.a)(_.a.getState))).then((function(e){p(e.data)}))}),[]),Object(n.useEffect)((function(){if(null!=t){var e=f.filter((function(e){return e.id==t.knowledge_area_student}))[0];b.setValues(B(B({},t),{},{knowledge_area_student:e}))}else b.setValues({knowledge_area_student:null,title:""})}),[t]);var E=function(e){var t=B(B({},e),{},{knowledge_area_student:e.knowledge_area_student.id});s({type:j.b}),function(e){return w.a.post("api/offer/",e,Object(y.a)(_.a.getState))}(t).then((function(e){c(a.concat(e.data)),s({type:j.a}),s(Object(g.a)("Oferta guardada"))}))},O=function(e){var t=B(B({},e),{},{knowledge_area_student:e.knowledge_area_student.id});s({type:j.b}),function(e,t){return w.a.patch("api/offer/"+e+"/",t,Object(y.a)(_.a.getState))}(t.id,t).then((function(e){var t=a.map((function(t){return t.id===e.data.id?B({},e.data):t}));c(t),s({type:j.a}),s(Object(g.a)("Oferta actualizada"))}))};return r.a.createElement("form",{onSubmit:b.handleSubmit},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-12"},r.a.createElement(J.a,{options:f,value:b.values.knowledge_area_student,getOptionLabel:function(e){return e.knowledge_area.name},onChange:function(e,t){b.setFieldValue("knowledge_area_student",t)},renderOption:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-100"},r.a.createElement("span",null,e.knowledge_area.name)))},renderInput:function(e){return r.a.createElement(K.a,z()({},e,{label:"",name:"knowledge_area_student",variant:"outlined"}))}}),b.touched.knowledge_area_student&&b.errors.knowledge_area_student?r.a.createElement("span",{className:"error"},b.errors.knowledge_area_student):null)),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-12"},r.a.createElement("input",{className:"w-100",type:"text",name:"title",value:b.values.title,onChange:b.handleChange,placeholder:"Titulo"}),b.touched.title&&b.errors.title?r.a.createElement("span",{className:"error"},b.errors.title):null)),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-12"},r.a.createElement("textarea",{className:"w-100",name:"description",value:b.values.description,onChange:b.handleChange,placeholder:"Descripción",cols:"30",rows:"10"}))),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},null==t?"GUARDAR":"ACTUALIZAR")))}function Q(){var e=Object(n.useState)(null),t=u()(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=u()(l,2),m=i[0],d=i[1],f=Object(o.d)((function(e){return e.auth}));Object(n.useEffect)((function(){var e;(e=f.user.id,w.a.get("api/student/"+e+"/offer",Object(y.a)(_.a.getState))).then((function(e){d(e.data)}))}),[]);var p=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"title-component"},"INFORMACIÓN"),r.a.createElement(E.a,{form:r.a.createElement(H,{list:m,setList:d,data:a})}));return r.a.createElement(s.a,{navLateral:r.a.createElement(T,{list:m,setList:d,setData:c}),body:p})}function W(){return r.a.createElement("div",null,"Postulaciones")}function X(){return r.a.createElement("div",null,"Sesiones")}function Y(){var e=Object(d.i)().url;return r.a.createElement("div",{className:""},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"".concat(e),component:b}),r.a.createElement(d.b,{exact:!0,path:"".concat(e,"/informacion"),component:F}),r.a.createElement(d.b,{exact:!0,path:"".concat(e,"/interes"),component:I}),r.a.createElement(d.b,{exact:!0,path:"".concat(e,"/oferta"),component:Q}),r.a.createElement(d.b,{exact:!0,path:"".concat(e,"/acuerdo"),component:W}),r.a.createElement(d.b,{exact:!0,path:"".concat(e,"/sesion"),component:X})))}function $(){var e=Object(d.i)().path;return r.a.createElement("div",{className:""},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"".concat(e),component:l}),r.a.createElement(d.b,{path:"".concat(e,"/perfil"),component:Y})))}}}]);